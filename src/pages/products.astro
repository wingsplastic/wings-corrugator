---
// src/pages/products.astro
import Layout from '../layouts/Layout.astro';

// 获取所有产品内容（通过 Astro 的内容集合）
const products = await Astro.glob('../content/products/*.md');
---

<Layout title="Products - Wings Corrugator">
  <h1>Our Products</h1>
  <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 2rem; margin-top: 2rem;">
    {products.map((product) => (
      <a href={`/products/${product.frontmatter.slug || product.url.split('/').pop().replace('.md', '')}`} style="text-decoration: none; color: inherit;">
        <div style="border: 1px solid #e2e8f0; border-radius: 1rem; overflow: hidden; transition: box-shadow 0.3s;">
          {product.frontmatter.image && (
            <img src={product.frontmatter.image} alt={product.frontmatter.title} style="width: 100%; height: 200px; object-fit: cover;" />
          )}
          <div style="padding: 1.5rem;">
            <h3 style="margin-bottom: 0.5rem;">{product.frontmatter.title}</h3>
            <p style="color: #475569;">{product.frontmatter.description}</p>
          </div>
        </div>
      </a>
    ))}
  </div>
</Layout>
